<section class="feed">
  <v-card :loading="loading">
    <v-row class="mx-3" align="center">
      <slot name="header">
        <v-avatar size="50" class="grey">
          <img :src="post.author.avatar" alt="`profile pic of ${post.author.name}`">
        </v-avatar>
        <v-col class="my-0">
          <p class="title my-0 py-0"><a class="secondary--text">{{post.author.name}}</a></p>
          <p class="subtitle-2 my-0 py-0">{{formattedDate}}</p>
        </v-col>
      </slot>
      <v-btn text small icon>
        <v-icon color="grey darken-2" small>fas fa-ellipsis-v</v-icon>
      </v-btn>
    </v-row>
    <v-col class="pt-0 mt-0" justify="start">
      <slot name="body">
        {{post.title}}
      </slot>
      <slot name="interaction">
        <v-row class="mt-2 ml-2" align='center'>
          <v-btn text small @click="submitVote('like')">
            <v-icon color="grey darken-2" small left>fas fa-thumbs-up</v-icon>
            {{post.likeCount}}
          </v-btn>
          <v-btn text small @click="submitVote('dislike')">
            <v-icon color="grey darken-2 nl-3" small left>fas fa-thumbs-down</v-icon>
            {{post.dislikeCount}}
          </v-btn>
          <v-btn text small @click="displayComments">
            <v-icon color="grey darken-2" small left>fas fa-comment</v-icon>
            {{post.commentCount}}
          </v-btn>
          <v-btn text small>
            <v-icon color="grey darken-2" small left>fas fa-share-alt</v-icon>
          </v-btn>
        </v-row>
      </slot>
    </v-col>
    </slot>
    </v-row>

    <slot name="comment">
      <v-col class="grey lighten-5" v-if="showComments">
        <p class="grey--text" align="center" v-if="post.comments.length == 0">
          There are no comments yet
        </p>
        <slot name="comment">
          <v-row dense v-for="comment in post.comments">
            <comment :comment="comment" :key="`comment-${comment.commentId}`" />
          </v-row>
          <v-row dense>
            <v-col>
              <v-text-field v-model="commentBody" placeholder="Write your comment here ..."
                @keydown.enter="submitComment"></v-text-field>
            </v-col>
          </v-row>
        </slot>
        </v-row>
    </slot>
  </v-card>

</section>